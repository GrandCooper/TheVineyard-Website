<!DOCTYPE html>
<html>
  <head>
    <title>RottenSwap Memes</title>
      <style>
        body {
          margin: 0
        }
        p {
          display: block; 
          max-width: 600px; 
          margin: auto;
          word-break: break-all; 
          text-align: center;
          padding: 8px;
        }
        img, video {
          display: block; 
          max-width: 600px; 
          margin: auto;
        }
        @media (max-width: 600px) {
          img, video {
            max-width: 95vw; 
          }
        }
      </style>
  </head>
  <body>
    <script>
      (async () => {
        const response = await fetch('https://api.github.com/repos/rottenswap/rottenswap.org-website/contents/docs/memes');
        const data = await response.json();
        let htmlString = `<p>Add memes to <a href="https://drive.google.com/drive/folders/1nJ4J7alKEK7EWOxn13jCmVTONOkUHfhq">https://drive.google.com/drive/folders/1nJ4J7alKEK7EWOxn13jCmVTONOkUHfhq</a></p>`;
        htmlString += '<div>'
        for (let file of data) {
          if (file.name.match(/(html|htm)$/i) || file.name.startsWith('.')) {
            continue
          }
          if (file.name.match(/(mov|mp4|webm)$/i)) {
            htmlString += `<video autoplay loop controls src="https://rottenswap.org/memes/${file.name}">`
          }
          else {
            htmlString += `<img src="https://rottenswap.org/memes/${file.name}">`
          }
        }
        htmlString += '</div>'
        document.getElementsByTagName('body')[0].innerHTML = htmlString;
      })()
    </script>
  <body>
</html>
